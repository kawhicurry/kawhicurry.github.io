---
title: 基于虚拟机的开发机搭建
cover : https://gallery-cos.kawhicurry.online/picgo/gallery/nord/DSC_0143.JPG
categories:
  - Operation
  - DevOps
tags:
  - linux
abbrlink: f7220f82
date: 2021-12-28 19:21:00
---

## 前言

最近想装上boost库，写写cpp。捣鼓了半天之后boost才勉强能用。期间不仅要解决安装方式问题，还由vscode的提示、配置等等一大堆问题。这时我又又又又又产生了把win换成linux的冲动。

但毕竟不是第一次上linux了，win和linux的好坏我多多少少还是清楚的。

windows的优点

- 键鼠协同操作舒服，支持轻微的自定义
- 便于查资料，敲代码，有大量现成的工具。
- 稳定且高效，笔记本对win还是做了优化的。

但也有一些我不太能忍受的缺点

- 装环境麻烦，安装位置灵活多变，且安装后不便于删除
- 自定义程度差，win不支持过于深入的自定义，比如我想搞个全局快捷键都不行，除非我想使用第三方工具，比如`quicker`，而这又回归了第一点。
- 路径中反人类的反斜杠

反过来，我想用linux正是因为win的这些缺点

- 装环境往往只要一行
- 高度自定义
- 更加熟悉的文件系统和配套的脚本

而阻止我用linux的也正好是win的优点

- linux的gui大多都不太好使，甚至gui的自定义程度不如win
- 中文输入法缺少较好的支持
- 由上面这两点，linux查资料也不方便
- 笔记本没有专门的优化，稳定性欠佳
- ide不稳定，缺少一些通用工具

而在win上的wsl现在还远远不够健全，更何况我想偶尔开个linux的gui踢踢robocup。

这时我想到了远程开发机。先是考虑了云服务器，云服务器没有gui。又想到了台式机，台式机不能保证24小时开机，而且做内网穿透之后速度会跟不上。这时我又想到，为啥不直接开虚拟机。于是乎我又又又开了台虚拟机，并搭建起了开发环境。

## 初步设置

~~因为`virtualbox`始终是免费的，所以我还是坚持用它而不是`vmware`。~~

当我更新这篇文章时，我还是用上了`vmware`，这玩意在性能和稳定性上都比`virtualbox`好使。

~~//todo:（因为时间问题，这个坑后面再填）~~

总之先选好虚拟机安装

在操作系统上，我还是选择了`ubuntu`，因为`apt`确实也用起来舒服，很多需要的环境用apt要好搞定很多。

## 连接虚拟机

连上虚拟机需要注意三件事

- 虚拟机网络要设置好，保证有一个可用的ipv4地址
- 虚拟机上要装好ssh服务器（openssh-server）
- 连接时输入的用户名和ip地址要输对

### 虚拟机网络

在vmware的NAT